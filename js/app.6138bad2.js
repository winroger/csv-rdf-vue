(function(){var t={712:function(t,e,n){"use strict";var a=n(9242),l=n(3396);const o={class:"app",id:"app"};function i(t,e,n,a,i,s){const r=(0,l.up)("header-top"),p=(0,l.up)("input-content");return(0,l.wg)(),(0,l.iD)("div",o,[(0,l.Wm)(r,null,{default:(0,l.w5)((()=>[(0,l.Uk)("CSV-RDF-Mapper")])),_:1}),(0,l.Wm)(p)])}const s={class:"content"},r=(0,l._)("h3",null,"1. Upload SHACL shapes and CSV Files",-1),p={class:"upload-container"};function u(t,e,n,a,o,i){const u=(0,l.up)("upload-ttl-form"),c=(0,l.up)("upload-csv-form"),d=(0,l.up)("form-generator"),h=(0,l.up)("ttl-output");return(0,l.wg)(),(0,l.iD)("div",s,[r,(0,l._)("div",p,[(0,l.Wm)(u,{onFileUploaded:i.handleTtlUploaded},null,8,["onFileUploaded"]),(0,l.Wm)(c,{onFileUploaded:i.handleCsvUploaded},null,8,["onFileUploaded"])]),(0,l.Wm)(d,{ttlInput:o.ttlInput,csvInput:i.unwrappedCsvInput,onPassTtl:i.handleTtlGeneration},null,8,["ttlInput","csvInput","onPassTtl"]),(0,l.Wm)(h,{mappingData:o.mappingData,ttlFiles:o.ttlFiles,csvFiles:o.csvFiles},null,8,["mappingData","ttlFiles","csvFiles"])])}var c=n(7139);const d=t=>((0,l.dD)("data-v-aba754a8"),t=t(),(0,l.Cn)(),t),h=d((()=>(0,l._)("h3",null,"2. Match Shape properties with CSV-Columns",-1))),f=["onChange"],m=["value"],v={key:0};function g(t,e,n,a,o,i){const s=(0,l.up)("ShapeTable");return(0,l.wg)(),(0,l.iD)(l.HY,null,[h,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.shapeURLs,(t=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"shapefield"},[(0,l._)("legend",null,(0,c.zw)(t),1),(0,l._)("div",null,[(0,l.Uk)(" Choose CSV: "),(0,l._)("select",{onChange:e=>i.handleCsvSelection(e,t)},[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.csvFileNames,(t=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:t},(0,c.zw)(t),9,m)))),128))],40,f)]),o.PathColumnMapping[t]?((0,l.wg)(),(0,l.iD)("div",v,[(0,l.Wm)(s,{shapeURL:t,pathURLs:i.pathURLs(t),csvColumns:i.csvColumns(t),pathColumnMapping:o.PathColumnMapping[t],onUpdateMapping:i.updatePathColumnMapping},null,8,["shapeURL","pathURLs","csvColumns","pathColumnMapping","onUpdateMapping"])])):(0,l.kq)("",!0)])))),128))],64)}const C=t=>((0,l.dD)("data-v-68b9d9ea"),t=t(),(0,l.Cn)(),t),b={class:"w-100"},y=C((()=>(0,l._)("thead",null,[(0,l._)("tr",null,[(0,l._)("th",null,"RDF Property"),(0,l._)("th",null,"CSV Column")])],-1))),w={class:"code"},F={style:{width:"30%"}},D=["onUpdate:modelValue"],_=C((()=>(0,l._)("option",{value:"",disabled:"",selected:""},"Select column",-1))),M=["value"];function x(t,e,n,o,i,s){return(0,l.wg)(),(0,l.iD)("table",b,[y,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.pathURLs,(t=>((0,l.wg)(),(0,l.iD)("tr",{key:t},[(0,l._)("td",w,(0,c.zw)(t),1),(0,l._)("td",F,[(0,l.wy)((0,l._)("select",{"onUpdate:modelValue":e=>i.localPathColumnMapping[t]=e,class:"w-100",onChange:e[0]||(e[0]=(...t)=>s.emitUpdate&&s.emitUpdate(...t))},[_,((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(n.csvColumns,(t=>((0,l.wg)(),(0,l.iD)("option",{key:t,value:t},(0,c.zw)(t),9,M)))),128))],40,D),[[a.bM,i.localPathColumnMapping[t]]])])])))),128))])])}var S={props:{shapeURL:String,pathURLs:Array,csvColumns:Array,pathColumnMapping:Object},data(){return{localPathColumnMapping:this.pathColumnMapping}},methods:{emitUpdate(){this.$emit("update-mapping",{shapeURL:this.shapeURL,mapping:this.localPathColumnMapping})}}},T=n(89);const U=(0,T.Z)(S,[["render",x],["__scopeId","data-v-68b9d9ea"]]);var j=U,P={components:{ShapeTable:j},props:{ttlInput:Object,csvInput:Object},emits:["pass-ttl"],data(){return{ShapeColumnList:{},PathColumnMapping:{},ShapeCsvMapping:{}}},computed:{shapeURLs(){return Object.keys(this.ttlInput)},csvFileNames(){return Object.keys(this.csvInput)}},watch:{ttlInput:{handler(){this.PathColumnMapping={},this.setDefaultCsvFiles(),this.initializePathMappings()}},csvInput:{handler(){this.setDefaultCsvFiles()}}},methods:{pathURLs(t){return Object.keys(this.ttlInput[t])},csvColumns(t){return Object.values(this.ShapeColumnList[t])},initializePathMappings(){this.PathColumnMapping=this.ttlInput},setDefaultCsvFiles(){const t=this.csvFileNames[0];t?Object.keys(this.ttlInput).forEach((e=>{this.handleCsvSelection({target:{value:t}},e)})):console.log("Error: No CSV-File available to set as default")},handleCsvSelection(t,e){const n=t.target.value;this.ShapeCsvMapping[e]=n,this.ShapeColumnList[e]=this.csvInput[n],this.$emit("pass-ttl",{PathColumnMapping:this.PathColumnMapping,ShapeCsvMapping:this.ShapeCsvMapping})},updatePathColumnMapping({shapeURL:t,mapping:e}){this.PathColumnMapping={...this.PathColumnMapping,[t]:e}}},mounted(){this.setDefaultCsvFiles(),this.initializePathMappings()}};const k=(0,T.Z)(P,[["render",g],["__scopeId","data-v-aba754a8"]]);var O=k;const I={class:"upload-field"},E=(0,l._)("h4",null,"Upload SHACL shapes",-1),R={class:"uploaded-files"},L={key:0,value:"",disabled:"",selected:""};function A(t,e,n,a,o,i){return(0,l.wg)(),(0,l.iD)("div",I,[E,(0,l._)("input",{type:"file",ref:"fileInput",class:"file-input",onChange:e[0]||(e[0]=t=>i.processTtl())},null,544),(0,l.Uk)(" Files: "),(0,l._)("ul",R,[0===o.uploadedFiles.length?((0,l.wg)(),(0,l.iD)("li",L,"No Files Uploaded")):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.uploadedFiles,((t,e)=>((0,l.wg)(),(0,l.iD)("li",{key:e},(0,c.zw)(t.name),1)))),128))])])}n(7658);var G=n(3359),Z=n(2574),z=n(1991),H={data(){return{uploadedFiles:[],fileData:{}}},methods:{processTtl(){const t=this.$refs.fileInput,e=t.files[0];if(e){this.uploadedFiles.push(e);const t=new FileReader;t.onload=t=>{try{const o=t.target.result,i=(0,G.ip)(),s="http://example.org";(0,Z.Z)(o,i,s,"text/turtle");var e=(0,z.Z)("http://www.w3.org/ns/shacl#"),n=e("NodeShape"),a=e("property"),l=e("path");const r=i.match(null,null,n,null);r.forEach((t=>{const e=t.subject;this.fileData[e.value]={};const n=i.match(e,a,null,null);n.forEach((t=>{const n=t.object,a=i.match(n,l,null,null);a.forEach((t=>{const n=t.object;this.fileData[e.value][n.value]=""}))}))})),this.$emit("file-uploaded",{fileData:this.fileData,files:this.uploadedFiles})}catch(o){console.error("Error parsing TTL data:",o)}},t.readAsText(e)}}}};const N=(0,T.Z)(H,[["render",A]]);var V=N;const W={class:"upload-field"},Y=(0,l._)("h4",null,"Upload CSV",-1),B={class:"uploaded-files"},$={key:0,value:"",disabled:"",selected:""};function K(t,e,n,a,o,i){return(0,l.wg)(),(0,l.iD)("div",W,[Y,(0,l._)("input",{type:"file",ref:"fileInput",class:"file-input",multiple:"",onChange:e[0]||(e[0]=t=>i.processCsv())},null,544),(0,l.Uk)(" Files: "),(0,l._)("ul",B,[0===o.uploadedFiles.length?((0,l.wg)(),(0,l.iD)("li",$,"No Files Uploaded")):(0,l.kq)("",!0),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.uploadedFiles,((t,e)=>((0,l.wg)(),(0,l.iD)("li",{key:e},(0,c.zw)(t.name),1)))),128))])])}var q={data(){return{uploadedFiles:[],fileData:{}}},methods:{processCsv(){const t=this.$refs.fileInput;for(let e=0;e<t.files.length;e++){const n=t.files[e];this.uploadedFiles.push(n);const a=new FileReader;a.onload=t=>{const e=t.target.result,a=e.split("\n"),l=a[0].split(",");for(let n=0;n<l.length;n++)l[n]=l[n].trim();this.fileData[n.name]=l},a.readAsText(n),this.$emit("file-uploaded",{fileData:this.fileData,files:this.uploadedFiles})}}}};const J=(0,T.Z)(q,[["render",K]]);var Q=J;const X=t=>((0,l.dD)("data-v-7ab82abe"),t=t(),(0,l.Cn)(),t),tt=X((()=>(0,l._)("h3",null,"3. Generate and Display RDF-Graph",-1))),et={class:"ttl-output"},nt=X((()=>(0,l._)("h3",null,"RDF-Graph",-1)));function at(t,e,n,a,o,i){return(0,l.wg)(),(0,l.iD)(l.HY,null,[tt,(0,l._)("button",{class:"btn",onClick:e[0]||(e[0]=t=>i.generateRDF())},"Generate RDF-Graph"),(0,l._)("div",et,[nt,(0,l._)("button",{class:"copy-btn",onClick:e[1]||(e[1]=t=>i.copyToClipboard())},(0,c.zw)(o.copyButtonText),1),(0,l._)("pre",null,(0,c.zw)(o.rdfGraph),1)])],64)}var lt=n(8186),ot=n(6026),it=n.n(ot),st={props:{mappingData:Object,ttlFiles:Array,csvFiles:Array},data(){return{rdfGraph:"no graph generated",tripleStore:null,PathColumnMapping:null,ShapeCsvMapping:null,copyButtonText:"Copy graph"}},methods:{copyToClipboard(){if(this.copyButtonText="âœ“ Copied!",console.log("copyButtonText:",this.copyButtonText),setTimeout((()=>{this.copyButtonText="Copy graph"}),1e3),navigator.clipboard&&window.isSecureContext)return navigator.clipboard.writeText(this.rdfGraph);{let e=document.createElement("textarea");e.value=this.rdfGraph,e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy"),e.remove()}catch(t){console.error("Fallback: Oops, unable to copy",t)}}},generateRDF(){this.parseTtlFile(),this.parseMappings(),this.createGraph()},createGraph(){const t=(0,G.ip)();var e=(0,z.Z)("http://www.w3.org/ns/shacl#"),n=(0,z.Z)("http://www.w3.org/1999/02/22-rdf-syntax-ns#"),a=e("property"),l=e("datatype"),o=e("node"),i=n("type");let s=Object.keys(this.csvFiles).length,r=0;for(let p in this.csvFiles){const e=this.csvFiles[p],n=e.name;for(const p in this.ShapeCsvMapping)if(this.ShapeCsvMapping[p]===n){const n=new FileReader;n.onload=e=>{const n=e.target.result;it().parse(n,{complete:e=>{const n=e.data,u=n.shift();n.forEach((e=>{u.forEach(((n,s)=>{for(let r in this.PathColumnMapping[p])if(this.PathColumnMapping[p][r]===n){const n=this.tripleStore.match((0,G.xt)(p),a,null,null);n.forEach((n=>{const a=n.subject,u=n.object,c=(0,G.xt)(p+e[0]),d=(0,G.st)(c,i,a);t.add(d);const h=this.tripleStore.match(u,null,null,null);h.forEach((n=>{const a=n.object;if(r===a.value){const n=this.tripleStore.match(u,l,null,null);n.forEach((n=>{const l=n.object,o=(0,G.st)(c,a,(0,G.i0)(e[s],l));t.add(o)}));const i=this.tripleStore.match(u,o,null,null);i.forEach((n=>{const l=n.object,o=e[s].split(",");for(const e of o){const n=(0,G.xt)(l.value+e),o=(0,G.st)(c,a,n);t.add(o)}}))}}))}))}}))})),r++,r===s&&(0,lt.Z)(void 0,t,void 0,"text/turtle",((t,e)=>{t?console.log("Serialization error:",t):this.rdfGraph=e}))}})},n.readAsText(e)}}},parseMappings(){this.PathColumnMapping=this.mappingData["PathColumnMapping"],this.ShapeCsvMapping=this.mappingData["ShapeCsvMapping"]},async parseTtlFile(){try{const t=this.ttlFiles[0];let e=null;const n=(0,G.ip)(),a="http://example.org";t instanceof File&&(e=await this.readFileAsText(t)),(0,Z.Z)(e,n,a,"text/turtle"),this.tripleStore=n}catch(t){console.error("Error parsing TTL data:",t)}},readFileAsText(t){return new Promise(((e,n)=>{const a=new FileReader;a.onload=()=>e(a.result),a.onerror=()=>n(a.error),a.readAsText(t)}))}}};const rt=(0,T.Z)(st,[["render",at],["__scopeId","data-v-7ab82abe"]]);var pt=rt,ut={components:{"form-generator":O,"upload-ttl-form":V,"upload-csv-form":Q,"ttl-output":pt},data(){return{ttlInput:{"http://example.shape/":{"http://example.property/1":"example_property 1","http://example.property/2":"example_property 2"}},ttlFiles:null,csvInput:{"Example.csv":["Example column 1","Example column 2"]},csvFiles:null,mappingData:{}}},methods:{handleTtlUploaded(t){const{fileData:e,files:n}=t;this.ttlInput=e,this.ttlFiles=n},handleCsvUploaded(t){const{fileData:e,files:n}=t;this.csvInput=e,this.csvFiles=n},handleTtlGeneration(t){this.mappingData=t}},computed:{unwrappedCsvInput(){return{...this.csvInput}}}};const ct=(0,T.Z)(ut,[["render",u]]);var dt=ct;const ht={class:"header"};function ft(t,e,n,a,o,i){return(0,l.wg)(),(0,l.iD)("div",ht,[(0,l._)("h1",null,[(0,l.WI)(t.$slots,"default",{},void 0,!0)])])}var mt={name:"HeaderComponent"};const vt=(0,T.Z)(mt,[["render",ft],["__scopeId","data-v-2cc3341a"]]);var gt=vt,Ct={components:{"input-content":dt,"header-top":gt}};const bt=(0,T.Z)(Ct,[["render",i]]);var yt=bt;(0,a.ri)(yt).mount("#app")},4654:function(){}},e={};function n(a){var l=e[a];if(void 0!==l)return l.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,function(){var t=[];n.O=function(e,a,l,o){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],l=t[u][1],o=t[u][2];for(var s=!0,r=0;r<a.length;r++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[r])}))?a.splice(r--,1):(s=!1,o<i&&(i=o));if(s){t.splice(u--,1);var p=l();void 0!==p&&(e=p)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[a,l,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){var t,e=Object.getPrototypeOf?function(t){return Object.getPrototypeOf(t)}:function(t){return t.__proto__};n.t=function(a,l){if(1&l&&(a=this(a)),8&l)return a;if("object"===typeof a&&a){if(4&l&&a.__esModule)return a;if(16&l&&"function"===typeof a.then)return a}var o=Object.create(null);n.r(o);var i={};t=t||[null,e({}),e([]),e(e)];for(var s=2&l&&a;"object"==typeof s&&!~t.indexOf(s);s=e(s))Object.getOwnPropertyNames(s).forEach((function(t){i[t]=function(){return a[t]}}));return i["default"]=function(){return a},n.d(o,i),o}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.f={},n.e=function(t){return Promise.all(Object.keys(n.f).reduce((function(e,a){return n.f[a](t,e),e}),[]))}}(),function(){n.u=function(t){return"js/"+t+".ab093f9a.js"}}(),function(){n.miniCssF=function(t){}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="vue-app:";n.l=function(a,l,o,i){if(t[a])t[a].push(l);else{var s,r;if(void 0!==o)for(var p=document.getElementsByTagName("script"),u=0;u<p.length;u++){var c=p[u];if(c.getAttribute("src")==a||c.getAttribute("data-webpack")==e+o){s=c;break}}s||(r=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",e+o),s.src=a),t[a]=[l];var d=function(e,n){s.onerror=s.onload=null,clearTimeout(h);var l=t[a];if(delete t[a],s.parentNode&&s.parentNode.removeChild(s),l&&l.forEach((function(t){return t(n)})),e)return e(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),r&&document.head.appendChild(s)}}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.p="/"}(),function(){var t={143:0};n.f.j=function(e,a){var l=n.o(t,e)?t[e]:void 0;if(0!==l)if(l)a.push(l[2]);else{var o=new Promise((function(n,a){l=t[e]=[n,a]}));a.push(l[2]=o);var i=n.p+n.u(e),s=new Error,r=function(a){if(n.o(t,e)&&(l=t[e],0!==l&&(t[e]=void 0),l)){var o=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,l[1](s)}};n.l(i,r,"chunk-"+e,e)}},n.O.j=function(e){return 0===t[e]};var e=function(e,a){var l,o,i=a[0],s=a[1],r=a[2],p=0;if(i.some((function(e){return 0!==t[e]}))){for(l in s)n.o(s,l)&&(n.m[l]=s[l]);if(r)var u=r(n)}for(e&&e(a);p<i.length;p++)o=i[p],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(u)},a=self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(712)}));a=n.O(a)})();
//# sourceMappingURL=app.6138bad2.js.map